--- master-statefulset.yaml	1969-12-31 16:00:00.000000000 -0800
+++ master-statefulset.yaml	1969-12-31 16:00:00.000000000 -0800
@@ -50,6 +50,18 @@
         - name: {{ . }}
       {{- end}}
       {{- end }}
+      {{- if .Values.master.persistence.enabled }}
+      initContainers:
+      - name: init-{{ template "mariadb.fullname" . }}
+        image: "{{ template "mariadb.image" . }}"
+        command: ["sh", "-c", "chown 1001 /bitnami/mariadb"]
+        securityContext:
+          fsGroup: 0
+          runAsUser: 0
+        volumeMounts:
+        - name: data
+          mountPath: /bitnami/mariadb
+      {{- end }}
       containers:
       - name: "mariadb"
         image: {{ template "mariadb.image" . }}
--- slave-statefulset.yaml	1969-12-31 16:00:00.000000000 -0800
+++ slave-statefulset.yaml	1969-12-31 16:00:00.000000000 -0800
@@ -51,6 +51,18 @@
         - name: {{ . }}
       {{- end}}
       {{- end }}
+      {{- if .Values.slave.persistence.enabled }}
+      initContainers:
+      - name: init-{{ template "mariadb.fullname" . }}
+        image: "{{ template "mariadb.image" . }}"
+        command: ["sh", "-c", "chown 1001 /bitnami/mariadb"]
+        securityContext:
+          fsGroup: 0
+          runAsUser: 0
+        volumeMounts:
+        - name: data
+          mountPath: /bitnami/mariadb
+      {{- end }}
       containers:
       - name: "mariadb"
         image: {{ template "mariadb.image" . }}

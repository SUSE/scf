--- redis-master-statefulset.yaml	1969-12-31 16:00:00.000000000 -0800
+++ redis-master-statefulset.yaml	1969-12-31 16:00:00.000000000 -0800
@@ -55,6 +55,19 @@
       {{- if .Values.master.schedulerName }}
       schedulerName: "{{ .Values.master.schedulerName }}"
       {{- end }}
+      {{- if .Values.master.persistence.enabled }}
+      initContainers:
+      - name: init-{{ template "redis.fullname" . }}
+        image: "{{ template "redis.image" . }}"
+        command: ["sh", "-c", "chmod 0777 {{ .Values.master.persistence.path }}/{{ .Values.master.persistence.subPath }}"]
+        securityContext:
+          fsGroup: 0
+          runAsUser: 0
+        volumeMounts:
+        - name: redis-data
+          mountPath: {{ .Values.master.persistence.path }}
+          subPath: {{ .Values.master.persistence.subPath }}
+      {{- end }}
       containers:
       - name: {{ template "redis.fullname" . }}
         image: "{{ template "redis.image" . }}"

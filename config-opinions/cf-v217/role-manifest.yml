---
roles:
- name: acceptance_tests
  is_task: true
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  jobs:
  - name: acceptance-tests
- name: api
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  jobs:
  - name: cloud_controller_ng
  - name: routing-api
  - name: statsd-injector
  - name: consul_agent
  - name: metron_agent
- name: api_worker
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  jobs:
  - name: cloud_controller_worker
  - name: consul_agent
  - name: metron_agent
- name: clock_global
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  jobs:
  - name: cloud_controller_clock
  - name: consul_agent
  - name: metron_agent
- name: consul
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  - consul_startup.sh
  jobs:
  - name: consul_agent
  - name: metron_agent
- name: doppler
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  - write_dns_health_check_doppler.sh
  jobs:
  - name: doppler
  - name: syslog_drain_binder
  - name: consul_agent
  - name: metron_agent
- name: etcd
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  jobs:
  - name: etcd
  - name: etcd_metrics_server
  - name: consul_agent
  - name: metron_agent
- name: ha_proxy
  jobs:
  - name: haproxy
  - name: consul_agent
  - name: metron_agent
- name: hm9000
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  jobs:
  - name: hm9000
  - name: consul_agent
  - name: metron_agent
- name: loggregator_trafficcontroller
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  - write_dns_health_check_trafficcontroller.sh
  jobs:
  - name: loggregator_trafficcontroller
  - name: consul_agent
  - name: metron_agent
- name: nats
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  - write_dns_health_check_nats.sh
  jobs:
  - name: nats
  - name: nats_stream_forwarder
  - name: consul_agent
  - name: metron_agent
- name: postgres
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  - write_dns_health_check_postgres.sh
  jobs:
  - name: postgres
  - name: consul_agent
  - name: metron_agent
- name: router
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  jobs:
  - name: gorouter
  - name: consul_agent
  - name: metron_agent
- name: runner
  scripts:
  - prevent_apparmor_disable.sh
  - fix_local_ip_for_overlay_networking.sh
  - fix_warden_local_ip_for_overlay_networking.sh  
  - write_dns_health_check_runner.sh
  jobs:
  - name: dea_next
  - name: dea_logging_agent
  - name: consul_agent
  - name: metron_agent
- name: smoke_tests
  is_task: true
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  jobs:
  - name: smoke-tests
- name: stats
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  - write_dns_health_check_stats.sh
  jobs:
  - name: collector
  - name: consul_agent
  - name: metron_agent
- name: uaa
  scripts:
  - fix_local_ip_for_overlay_networking.sh
  jobs:
  - name: uaa
  - name: consul_agent
  - name: metron_agent

